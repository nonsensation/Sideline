import{S as x,i as ee,s as te,J as me,k as w,a as P,q as V,l as y,m as I,c as D,r as B,h as k,n as h,b as q,D as l,O as A,_ as Ie,$ as Ne,K as he,L as pe,M as ge,g as Q,d as Z,Q as Ee,U as Ce,w as j,V as Pe,y as ae,z as ie,H,A as re,X as U,Y as De,B as ce,I as Y,o as Te,Z as se,E as $,a0 as Le,u as Oe}from"../chunks/index.94397499.js";import{O as W,i as ue,f as le,g as oe,h as ne,b as Me,o as Ve,j as be,C as ve,D as Be}from"../chunks/obs-store.f62a980f.js";const He=t=>({}),ke=t=>({});function We(t){let e,s,o,d,c,a,u,_,i,b,f,r,N;const g=t[3].header,m=me(g,t,t[2],ke),C=t[3].default,n=me(C,t,t[2],null);return{c(){e=w("dialog"),s=w("div"),m&&m.c(),o=P(),d=w("hr"),c=P(),n&&n.c(),a=P(),u=w("hr"),_=P(),i=w("button"),b=V("close modal"),this.h()},l(p){e=y(p,"DIALOG",{class:!0});var E=I(e);s=y(E,"DIV",{class:!0});var L=I(s);m&&m.l(L),o=D(L),d=y(L,"HR",{}),c=D(L),n&&n.l(L),a=D(L),u=y(L,"HR",{}),_=D(L),i=y(L,"BUTTON",{class:!0});var M=I(i);b=B(M,"close modal"),M.forEach(k),L.forEach(k),E.forEach(k),this.h()},h(){i.autofocus=!0,h(i,"class","svelte-1yh2xbb"),h(s,"class","svelte-1yh2xbb"),h(e,"class","svelte-1yh2xbb")},m(p,E){q(p,e,E),l(e,s),m&&m.m(s,null),l(s,o),l(s,d),l(s,c),n&&n.m(s,null),l(s,a),l(s,u),l(s,_),l(s,i),l(i,b),t[6](e),f=!0,i.focus(),r||(N=[A(i,"click",t[5]),A(s,"click",Ie(t[4])),A(e,"close",t[7]),A(e,"click",Ne(t[8]))],r=!0)},p(p,[E]){m&&m.p&&(!f||E&4)&&he(m,g,p,p[2],f?ge(g,p[2],E,He):pe(p[2]),ke),n&&n.p&&(!f||E&4)&&he(n,C,p,p[2],f?ge(C,p[2],E,null):pe(p[2]),null)},i(p){f||(Q(m,p),Q(n,p),f=!0)},o(p){Z(m,p),Z(n,p),f=!1},d(p){p&&k(e),m&&m.d(p),n&&n.d(p),t[6](null),r=!1,Ee(N)}}}function Ae(t,e,s){let{$$slots:o={},$$scope:d}=e,{showModal:c}=e,a;function u(r){Ce.call(this,t,r)}const _=()=>a.close();function i(r){j[r?"unshift":"push"](()=>{a=r,s(1,a)})}const b=()=>s(0,c=!1),f=()=>a.close();return t.$$set=r=>{"showModal"in r&&s(0,c=r.showModal),"$$scope"in r&&s(2,d=r.$$scope)},t.$$.update=()=>{t.$$.dirty&3&&a&&c&&a.showModal()},[c,a,d,o,u,_,i,b,f]}class Ue extends x{constructor(e){super(),ee(this,e,Ae,We,te,{showModal:0})}}function Ge(t){let e,s,o,d,c,a,u,_,i,b,f,r,N,g,m,C,n,p,E,L,M,v,G,z;return{c(){e=w("ul"),s=w("li"),o=V("Check your connection in OBS > Tab Tools > WebSocket Server Settings"),d=P(),c=w("li"),a=V("The default OBS-WebSocket port is 4455"),u=P(),_=w("li"),i=V("IPv4 and IPv6 addresses are supported"),b=P(),f=w("li"),r=V("Password can be blank (if there is no password set in the WebSocket-Server)"),N=P(),g=w("li"),m=V("Sideline will automatically reconnect on refresh"),C=P(),n=w("li"),p=V("Settings will be saved in the browser (local storage)"),E=P(),L=w("li"),M=V("Make sure you are on the same (lokal) network as your OBS WebSocket-Server"),v=P(),G=w("li"),z=V("Or enable port forwarding in your router"),this.h()},l(R){e=y(R,"UL",{class:!0});var O=I(e);s=y(O,"LI",{});var T=I(s);o=B(T,"Check your connection in OBS > Tab Tools > WebSocket Server Settings"),T.forEach(k),d=D(O),c=y(O,"LI",{});var S=I(c);a=B(S,"The default OBS-WebSocket port is 4455"),S.forEach(k),u=D(O),_=y(O,"LI",{});var F=I(_);i=B(F,"IPv4 and IPv6 addresses are supported"),F.forEach(k),b=D(O),f=y(O,"LI",{});var X=I(f);r=B(X,"Password can be blank (if there is no password set in the WebSocket-Server)"),X.forEach(k),N=D(O),g=y(O,"LI",{});var J=I(g);m=B(J,"Sideline will automatically reconnect on refresh"),J.forEach(k),C=D(O),n=y(O,"LI",{});var K=I(n);p=B(K,"Settings will be saved in the browser (local storage)"),K.forEach(k),E=D(O),L=y(O,"LI",{});var _e=I(L);M=B(_e,"Make sure you are on the same (lokal) network as your OBS WebSocket-Server"),_e.forEach(k),v=D(O),G=y(O,"LI",{});var fe=I(G);z=B(fe,"Or enable port forwarding in your router"),fe.forEach(k),O.forEach(k),this.h()},h(){h(e,"class","svelte-ke4b8f")},m(R,O){q(R,e,O),l(e,s),l(s,o),l(e,d),l(e,c),l(c,a),l(e,u),l(e,_),l(_,i),l(e,b),l(e,f),l(f,r),l(e,N),l(e,g),l(g,m),l(e,C),l(e,n),l(n,p),l(e,E),l(e,L),l(L,M),l(e,v),l(e,G),l(G,z)},p:$,d(R){R&&k(e)}}}function Fe(t){let e,s;return{c(){e=w("h2"),s=V("Help"),this.h()},l(o){e=y(o,"H2",{slot:!0,class:!0});var d=I(e);s=B(d,"Help"),d.forEach(k),this.h()},h(){h(e,"slot","header"),h(e,"class","svelte-ke4b8f")},m(o,d){q(o,e,d),l(e,s)},p:$,d(o){o&&k(e)}}}function Re(t){let e,s,o,d,c,a,u,_,i,b,f,r,N,g,m,C,n,p,E,L,M,v,G,z;function R(T){t[11](T)}let O={$$slots:{header:[Fe],default:[Ge]},$$scope:{ctx:t}};return t[4]!==void 0&&(O.showModal=t[4]),r=new Ue({props:O}),j.push(()=>Pe(r,"showModal",R)),{c(){e=w("fieldset"),s=w("legend"),o=V("OBS Settings"),d=P(),c=w("div"),a=w("button"),u=V("Connect"),_=P(),i=w("button"),b=V("?"),f=P(),ae(r.$$.fragment),g=P(),m=w("input"),C=P(),n=w("input"),p=P(),E=w("input"),L=P(),M=w("textarea"),this.h()},l(T){e=y(T,"FIELDSET",{class:!0});var S=I(e);s=y(S,"LEGEND",{class:!0});var F=I(s);o=B(F,"OBS Settings"),F.forEach(k),d=D(S),c=y(S,"DIV",{class:!0});var X=I(c);a=y(X,"BUTTON",{class:!0});var J=I(a);u=B(J,"Connect"),J.forEach(k),_=D(X),i=y(X,"BUTTON",{class:!0,title:!0});var K=I(i);b=B(K,"?"),K.forEach(k),X.forEach(k),f=D(S),ie(r.$$.fragment,S),g=D(S),m=y(S,"INPUT",{type:!0,placeholder:!0,class:!0,title:!0}),C=D(S),n=y(S,"INPUT",{type:!0,placeholder:!0,class:!0,title:!0}),p=D(S),E=y(S,"INPUT",{type:!0,placeholder:!0,class:!0,title:!0}),L=D(S),M=y(S,"TEXTAREA",{class:!0,spellcheck:!0}),I(M).forEach(k),S.forEach(k),this.h()},h(){h(s,"class","svelte-ke4b8f"),h(a,"class","btn btn-connect svelte-ke4b8f"),H(a,"connected",t[1]===W.Connected),H(a,"connecting",t[1]===W.Connecting),H(a,"disconnected",t[1]===W.Disconnected),H(a,"disconnecting",t[1]===W.Disconnecting),h(i,"class","btn btn-help svelte-ke4b8f"),h(i,"title","Show Help"),h(c,"class","top svelte-ke4b8f"),h(m,"type","text"),h(m,"placeholder","IP"),h(m,"class","input-ip svelte-ke4b8f"),h(m,"title","Websocket Server IP (for OBS it is usually 192.168.X.X)"),H(m,"invalid",!ue.isIPAddress(t[7])),h(n,"type","text"),h(n,"placeholder","Port"),h(n,"class","input-port svelte-ke4b8f"),h(n,"title","Port (for OBS it is usually 4455)"),H(n,"invalid",!de(t[6])),h(E,"type","password"),h(E,"placeholder","Password"),h(E,"class","input-password svelte-ke4b8f"),h(E,"title","If required by the OBS Websocket Server (can also be ampty)"),h(M,"class","no-resize svelte-ke4b8f"),h(M,"spellcheck","false"),M.disabled=!0,h(e,"class","grid-item svelte-ke4b8f")},m(T,S){q(T,e,S),l(e,s),l(s,o),l(e,d),l(e,c),l(c,a),l(a,u),t[9](a),l(c,_),l(c,i),l(i,b),l(e,f),re(r,e,null),l(e,g),l(e,m),U(m,t[7]),l(e,C),l(e,n),U(n,t[6]),l(e,p),l(e,E),U(E,t[5]),l(e,L),l(e,M),t[15](M),U(M,t[2]),v=!0,G||(z=[A(a,"click",t[8]),A(i,"click",t[10]),A(m,"input",t[12]),A(n,"input",t[13]),A(E,"input",t[14]),A(M,"input",t[16])],G=!0)},p(T,[S]){(!v||S&2)&&H(a,"connected",T[1]===W.Connected),(!v||S&2)&&H(a,"connecting",T[1]===W.Connecting),(!v||S&2)&&H(a,"disconnected",T[1]===W.Disconnected),(!v||S&2)&&H(a,"disconnecting",T[1]===W.Disconnecting);const F={};S&524288&&(F.$$scope={dirty:S,ctx:T}),!N&&S&16&&(N=!0,F.showModal=T[4],De(()=>N=!1)),r.$set(F),S&128&&m.value!==T[7]&&U(m,T[7]),(!v||S&128)&&H(m,"invalid",!ue.isIPAddress(T[7])),S&64&&n.value!==T[6]&&U(n,T[6]),(!v||S&64)&&H(n,"invalid",!de(T[6])),S&32&&E.value!==T[5]&&U(E,T[5]),S&4&&U(M,T[2])},i(T){v||(Q(r.$$.fragment,T),v=!0)},o(T){Z(r.$$.fragment,T),v=!1},d(T){T&&k(e),t[9](null),ce(r),t[15](null),G=!1,Ee(z)}}}function de(t){const e=Number(t);return!isNaN(e)&&e>0&&e<9999}function Xe(t,e,s){let o,d,c,a,u,_;Y(t,le,v=>s(5,o=v)),Y(t,oe,v=>s(6,d=v)),Y(t,ne,v=>s(7,c=v)),Y(t,Me,v=>s(17,a=v)),Y(t,Ve,v=>s(1,u=v)),Y(t,be,v=>s(2,_=v));let i,b,f=!1;Te(()=>{se(ne,c=localStorage.getItem("obs-ip")||"",c),se(oe,d=localStorage.getItem("obs-port")||"",d),se(le,o=localStorage.getItem("obs-pw")||"",o),a||ve()});function r(v){setTimeout(()=>{b&&s(3,b.scrollTop=b.scrollHeight,b)},0)}async function N(){if(a)console.log("Disconnect"),Be();else{if(!ue.isIPAddress(c)||!de(d)){console.log("DF");return}console.log("Connect"),ve()}a&&(localStorage.setItem("obs-ip",c),localStorage.setItem("obs-port",d),localStorage.setItem("obs-pw",o))}function g(v){j[v?"unshift":"push"](()=>{i=v,s(0,i),s(2,_),s(1,u)})}const m=()=>s(4,f=!0);function C(v){f=v,s(4,f)}function n(){c=this.value,ne.set(c)}function p(){d=this.value,oe.set(d)}function E(){o=this.value,le.set(o)}function L(v){j[v?"unshift":"push"](()=>{b=v,s(3,b)})}function M(){_=this.value,be.set(_)}return t.$$.update=()=>{if(t.$$.dirty&7&&(r(),i))switch(u){case W.Connected:s(0,i.innerText="Disconnect",i);break;case W.Connecting:s(0,i.innerText="Cancel Connect",i);break;case W.Disconnected:s(0,i.innerText="Connect",i);break;case W.Disconnecting:s(0,i.innerText="Cancel Disconnect",i);break}},[i,u,_,b,f,o,d,c,N,g,m,C,n,p,E,L,M]}class qe extends x{constructor(e){super(),ee(this,e,Xe,Re,te,{})}}const Se=[{name:"sideline_ws_time_min",displayName:"Minutes",description:"",category:"time",defaultValue:"0"},{name:"sideline_ws_time_sec",displayName:"Seconds",description:"",category:"time",defaultValue:"0"},{name:"sideline_ws_time_period",displayName:"Period",description:"",category:"time",defaultValue:"1"},{name:"sideline_ws_time_color",displayName:"Timer Color",description:"",category:"time",defaultValue:"white"},{name:"sideline_ws_score_color",displayName:"Score Color",description:"",category:"score",defaultValue:"white"},{name:"sideline_ws_team_name_home",displayName:"Team Name Home",description:"",category:"team-home",defaultValue:"HOME"},{name:"sideline_ws_team_name_guest",displayName:"Team Name Guest",description:"",category:"team-guest",defaultValue:"GUEST"},{name:"sideline_ws_team_score_home",displayName:"Team Score Home",description:"",category:"team-home",defaultValue:"0"},{name:"sideline_ws_team_score_guest",displayName:"Team Score Guest",description:"",category:"team-guest",defaultValue:"0"},{name:"sideline_ws_team_logo_home",displayName:"Team Logo Home",description:"",category:"team-home",defaultValue:""},{name:"sideline_ws_team_logo_guest",displayName:"Team Logo Guest",description:"",category:"team-guest",defaultValue:""},{name:"sideline_ws_team_textcolor_home",displayName:"Team Text Color Home",description:"",category:"team-home",defaultValue:"black"},{name:"sideline_ws_team_textcolor_guest",displayName:"Team Text Color Guest",description:"",category:"team-guest",defaultValue:"black"},{name:"sideline_ws_team_background_home",displayName:"Team Text Color Home",description:"",category:"team-home",defaultValue:"white"},{name:"sideline_ws_team_background_guest",displayName:"Team Text Color Guest",description:"",category:"team-guest",defaultValue:"white"}];function we(t,e,s){const o=t.slice();return o[2]=e[s],o[3]=e,o[4]=s,o}function ye(t){let e,s,o,d=t[2].displayName+"",c,a,u,_,i,b,f,r,N,g;function m(){t[1].call(_,t[3],t[4])}return{c(){e=w("fieldset"),s=w("legend"),o=w("label"),c=V(d),u=P(),_=w("input"),r=P(),this.h()},l(C){e=y(C,"FIELDSET",{class:!0});var n=I(e);s=y(n,"LEGEND",{class:!0});var p=I(s);o=y(p,"LABEL",{for:!0,class:!0});var E=I(o);c=B(E,d),E.forEach(k),p.forEach(k),u=D(n),_=y(n,"INPUT",{type:!0,name:!0,placeholder:!0,title:!0,class:!0}),r=D(n),n.forEach(k),this.h()},h(){h(o,"for",a=t[2].name),h(o,"class","svelte-s989oy"),h(s,"class","svelte-s989oy"),h(_,"type","text"),h(_,"name",i=t[2].name),h(_,"placeholder",b=t[2].name),h(_,"title",f=t[2].description),h(_,"class","svelte-s989oy"),h(e,"class"," svelte-s989oy")},m(C,n){q(C,e,n),l(e,s),l(s,o),l(o,c),l(e,u),l(e,_),U(_,t[2].name),l(e,r),N||(g=A(_,"input",m),N=!0)},p(C,n){t=C,n&1&&d!==(d=t[2].displayName+"")&&Oe(c,d),n&1&&a!==(a=t[2].name)&&h(o,"for",a),n&1&&i!==(i=t[2].name)&&h(_,"name",i),n&1&&b!==(b=t[2].name)&&h(_,"placeholder",b),n&1&&f!==(f=t[2].description)&&h(_,"title",f),n&1&&_.value!==t[2].name&&U(_,t[2].name)},d(C){C&&k(e),N=!1,g()}}}function ze(t){let e,s,o,d,c,a,u,_,i,b=t[0],f=[];for(let r=0;r<b.length;r+=1)f[r]=ye(we(t,b,r));return{c(){e=w("fieldset"),s=w("legend"),o=V("Websocket Settings"),d=P(),c=w("details"),a=w("summary"),u=V("Event-Names"),_=P(),i=w("div");for(let r=0;r<f.length;r+=1)f[r].c();this.h()},l(r){e=y(r,"FIELDSET",{class:!0});var N=I(e);s=y(N,"LEGEND",{class:!0});var g=I(s);o=B(g,"Websocket Settings"),g.forEach(k),d=D(N),c=y(N,"DETAILS",{});var m=I(c);a=y(m,"SUMMARY",{});var C=I(a);u=B(C,"Event-Names"),C.forEach(k),_=D(m),i=y(m,"DIV",{class:!0});var n=I(i);for(let p=0;p<f.length;p+=1)f[p].l(n);n.forEach(k),m.forEach(k),N.forEach(k),this.h()},h(){h(s,"class","svelte-s989oy"),h(i,"class","content"),h(e,"class","grid-item obs svelte-s989oy")},m(r,N){q(r,e,N),l(e,s),l(s,o),l(e,d),l(e,c),l(c,a),l(a,u),l(c,_),l(c,i);for(let g=0;g<f.length;g+=1)f[g].m(i,null)},p(r,[N]){if(N&1){b=r[0];let g;for(g=0;g<b.length;g+=1){const m=we(r,b,g);f[g]?f[g].p(m,N):(f[g]=ye(m),f[g].c(),f[g].m(i,null))}for(;g<f.length;g+=1)f[g].d(1);f.length=b.length}},i:$,o:$,d(r){r&&k(e),Le(f,r)}}}function Ye(t,e,s){Te(()=>{});function o(d,c){d[c].name=this.value,s(0,Se)}return[Se,o]}class je extends x{constructor(e){super(),ee(this,e,Ye,ze,te,{})}}function Je(t){let e,s,o,d,c={};e=new qe({props:c}),t[2](e);let a={};return o=new je({props:a}),t[3](o),{c(){ae(e.$$.fragment),s=P(),ae(o.$$.fragment)},l(u){ie(e.$$.fragment,u),s=D(u),ie(o.$$.fragment,u)},m(u,_){re(e,u,_),q(u,s,_),re(o,u,_),d=!0},p(u,[_]){const i={};e.$set(i);const b={};o.$set(b)},i(u){d||(Q(e.$$.fragment,u),Q(o.$$.fragment,u),d=!0)},o(u){Z(e.$$.fragment,u),Z(o.$$.fragment,u),d=!1},d(u){t[2](null),ce(e,u),u&&k(s),t[3](null),ce(o,u)}}}function Ke(t,e,s){let o,d;function c(u){j[u?"unshift":"push"](()=>{o=u,s(0,o)})}function a(u){j[u?"unshift":"push"](()=>{d=u,s(1,d)})}return[o,d,c,a]}class $e extends x{constructor(e){super(),ee(this,e,Ke,Je,te,{})}}export{$e as default};
